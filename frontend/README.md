# üõ°Ô∏è Project AEGIS: Autonomous Cyber Defense System

> **Final Project Status:** Production-Ready (Deployed on Vercel)

---

## üåü Overview & Philosophy

Project AEGIS is an autonomous cyber security system built to demonstrate **Active Defense** and **AI-Driven Orchestration**. It moves beyond simply alerting human analysts; it *thinks*, *judges*, and *acts* autonomously by integrating large language models (LLMs) and fine-tuning architectures directly into its workflow.

The system runs on a **Self-Healing Loop**:
1.  **Detect** (Traffic)
2.  **Analyze** (AI Inference)
3.  **Judge** (Oumi Evaluation)
4.  **Act** (Kestra Blocking)
5.  **Learn** (RL Fine-Tuning)

---

## üèÜ Prize Alignment and Core Features

This project was built to meet the highest technical bar for the following awards:

| Award | Feature Implemented | Proof |
| :--- | :--- | :--- |
| **Infinity Build** ($5,000) | **Custom `aegis-cli`:** Built a CLI wrapper using Cline to control all Kestra flows from the terminal, proving advanced capability extension. | [Link to your `aegis_cli.py` file] |
| **Wakanda Data** ($4,000) | **Strategic Reporting:** AI Agent summarizes raw PostgreSQL threat data into a concise CISO briefing and makes a security decision (LOCKDOWN/MONITOR). | [Link to `daily_security_briefing.yaml`] |
| **Iron Intelligence** ($3,000) | **Oumi Judge & RL Architecture:** Implemented the LLM-as-a-Judge evaluation pattern and architected the **Reinforcement Learning** fine-tuning pipeline. | [Link to `aegis_threat_scan.yaml` and `oumi_training_pipeline.yaml`] |
| **Stormbreaker Deployment** ($2,000) | **Live Vercel Deployment:** The entire Next.js dashboard is hosted live on Vercel. | [Link to your live Vercel URL] |
| **Captain Code** ($1,000) | **CodeRabbit Integration:** Utilized CodeRabbit for PR reviews, code quality checks, and documentation improvements throughout development. | [Link to your final Pull Request] |

---

## üß† Technical Architecture (The Brain)

All business logic is managed by three declarative workflows in Kestra.

### 1. The Real-Time Agent (`aegis_threat_scan`)

This flow handles instantaneous response:
* **Inference:** Sends IP data to Claude 3.5 Sonnet for initial scoring.
* **Evaluation:** A Python script implements a "safety layer" (the Oumi Judge pattern) that validates the AI's risk score against its reasoning before committing to a block.
* **Action:** If the validated score is high, it inserts the `BLOCKED` status into the database.

### 2. The Strategic Agent (`daily_security_briefing`)

* **Data Synthesis:** Connects to PostgreSQL, extracts raw threat logs, and passes them via Kestra's `inputFiles` to a Python Agent.
* **Decision-Making:** The agent returns a **Summary** and a **Decision**, which Kestra's `io.kestra.plugin.core.flow.If` task executes (simulating system-wide lockdown).

### 3. The Self-Learning Pipeline (`oumi_training_pipeline`)

* **Architecture Proof:** Contains the Python code defining the `RLFineTuner` setup, demonstrating the commitment to an evolving, adaptive defense model.

---

## üíª Setup and Usage

### Prerequisites
* [Docker Desktop](https://www.docker.com/products/docker-desktop)
* [Node.js / npm](https://nodejs.org/en) (for the frontend)

### A. Run the Backend Orchestrator (Kestra)

1.  **Start Kestra Container:**
    ```bash
    docker run --pull=always --rm -it -p 8080:8080 --user=root \
    -v /var/run/docker.sock:/var/run/docker.sock \
    -v /tmp:/tmp kestra/kestra:latest server local
    ```
2.  **Upload Flows:** Access `http://localhost:8080` and upload all `.yaml` files from the repository's `flows/` folder.
3.  **Run Setup:** Execute the `setup_database` flow once to initialize the PostgreSQL table.

### B. Run the Frontend Dashboard (Next.js)

1.  **Install Dependencies:**
    ```bash
    cd frontend
    npm install
    ```
2.  **Run Dashboard:**
    ```bash
    npm run dev
    ```
    Access the dashboard at `http://localhost:3000`.

### C. Use the Custom CLI (Infinity Build Proof)

Control the entire system from your terminal using the tool generated by Cline:

```bash
# 1. Initiate a real-time scan and block
python cli/aegis-cli analyze-ip 103.207.39.16

# 2. Trigger the CISO summary report generation
python cli/aegis-cli get-briefing

# 3. Simulate deploying the updated dashboard
python cli/aegis-cli deploy-dashboard